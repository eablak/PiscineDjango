from django import forms

GenderChoices= [
    ('female', 'Female'),
    ('male', 'Male'),
    ]

class InputForm(forms.Form):
    minimumDate_movies = forms.DateField(label="Minimum Date")
    maximumDate_movies = forms.DateField(label="Maximum Date")
    diameter_planet = forms.IntegerField(label="Diameter")
    gender_chrc = forms.CharField(label='Gender', widget=forms.Select(choices=GenderChoices))



--------------------------

from django.db import models

# Create your models here.
from django.db import models

# Create your models here.

class Planets(models.Model):

    name = models.CharField(max_length=64, unique=True, null=False)
    climate = models.CharField(null=True)
    diameter = models.IntegerField(null=True)
    orbital_period = models.IntegerField(null=True)
    population = models.BigIntegerField(null=True)
    rotation_period = models.IntegerField(null=True)
    surface_water = models.FloatField(null=True)
    terrain = models.CharField(null=True)
    created = models.DateTimeField(null=True)
    updated = models.DateTimeField(null=True)

    def __str__(self):
        return self.name
    

class People(models.Model):
    
    name = models.CharField(max_length=64, null=False)
    birth_year = models.CharField(max_length=32, null=True)
    gender = models.CharField(max_length=32, null=True)
    eye_color = models.CharField(max_length=32, null=True)
    hair_color = models.CharField(max_length=32, null=True)
    height = models.IntegerField(null=True)
    mass = models.FloatField(null=True)
    homeworld = models.ForeignKey(Planets, on_delete=models.CASCADE, null=True)
    created = models.DateTimeField(null=True)
    updated = models.DateTimeField(null=True)

    def __str__(self):
        return self.name


class Movies(models.Model):

    title = models.CharField(max_length=64, unique=True, null=False)
    episode_nb = models.IntegerField(primary_key=True)
    opening_crawl = models.TextField()
    director = models.CharField(max_length=32, null=False)
    producer = models.CharField(max_length=128, null=False)
    release_date = models.DateField(null=False)
    characters = models.ManyToManyField(to=People)

    def __str__(self):
        return self.title


# djangotraining=> ALTER TABLE ex10_planets ALTER COLUMN created DROP NOT NULL;
# ALTER TABLE
# djangotraining=> ALTER TABLE ex10_planets ALTER COLUMN updated DROP NOT NULL;
# ALTER TABLE
# djangotraining=> ALTER TABLE ex10_people ALTER COLUMN created DROP NOT NULL;
# ALTER TABLE
# djangotraining=> ALTER TABLE ex10_people ALTER COLUMN updated DROP NOT NULL;
# ALTER TABLE

----------------------------------

from django.contrib import admin
from .models import Planets, People, Movies
# Register your models here.

admin.site.register(Planets)
admin.site.register(People)
admin.site.register(Movies)

------------------------------


from django.shortcuts import render
from django.http import HttpResponse
from .forms import InputForm
from .models import Planets, People, Movies

# Create your views here.

def init(request):

    if request.method == "GET":
        context = {}
        context["form"] = InputForm()
        return render(request, "ex10/display.html", context)
    
    if request.method == "POST":

        planets = Planets.objects.all()
        peoples = People.objects.all()
        movies = Movies.objects.all()

        return HttpResponse("post")

        
